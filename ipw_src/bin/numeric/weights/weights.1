.TH "weights" "1" "30 January 2017" "IPW v2" "IPW User Commands"
.SH NAME
.PP
\fBweights\fP - calculates x-interval weights for selected x-y integration segment
.SH SYNOPSIS
.sp
.nf
.ft CR
\fBweights\fP \fB-s\fP \fIstart,end\fP [ \fB-i\fP \fIinterval\fP ]

.ft R
.fi
.SH DESCRIPTION
.PP
\fBweights\fP was designed to calculate the wavelength weights from
radiation spectra for broad-band or interval albedo calculations.
\fBweights\fP calculates the x-interval weights for x-y integration
over the selected segment of x-y spectra.
.PP
\fBweights\fP reads x-y pairs, where x is usually the wavelength
and y is the flux density in units of flux per x interval (eg. W ^-2 ^-nm).
.PP
Note that if the input spectra are sparse in x, then the weights will
be less meaningful.
The x-density of the spectra should be close to the x integration
interval.
.PP
Input x-y pairs from standard input.
.PP
Output x-weight pairs to standard output.
.SH OPTIONS
.TP
\fB-s\fP \fIstart,end\fP
\fIstart,end\fP are the start and ending x-values for the selected
integration segment.
.sp
.TP
\fB-n\fP \fIcount\fP
\fIcount\fP is the estimate of the max number of input pairs.
(Used to set initial input array sizes (default: 40960)).
.SH OPERANDS
.sp
None
.SH EXAMPLES
.sp
To calculate weights for a visible band (350-700 nm) from a radiation
spectra, where wavelength is in nm and flux density is in W ^-2 ^-nm:
.sp
.nf
.ft CR
	paste wavelength flux_density | weights -s 350,700
.ft R
.fi

.sp
To do the same calculation where the spectra are sparsely sampled (say
a flux density value every 25 nm):
.sp
.nf
.ft CR
	paste wavelength flux_density | akintrp -d 1.0 -s 350 -n 351 | \\
	weights -s 350,700
.ft R
.fi

.sp
The weights may be somewhat different between these two examples
depending on how dense the initial spectra were.
.SH FILES
.sp
None
.SH DIAGNOSTICS
.TP
too many input pairs
.TP
segment start < initial spectra value
.TP
segment > final spectra value
.SH RESTRICTIONS
.PP
Specified segment must be contained within the data
.PP
y-values must be in units of flux/x-unit
.SH HISTORY
.TP
Oct 2001
	Written by D. Marks, ARS-NWRC, Boise;
.SH BUGS
.PP
None
.SH SEE ALSO
.TP
IPW
\fBakintrp\fP,
\fBezint\fP,
\fBqdint\fP
.TP
Unix
	paste
.PP
Davis and Rabinowitz 1975
.br
