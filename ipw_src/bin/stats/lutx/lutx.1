.TH "lutx" "1" "30 January 2017" "IPW v2" "IPW User Commands"
.SH NAME
.PP
\fBlutx\fP - transform an IPW image using an IPW lookup table
.SH SYNOPSIS
.sp
.nf
.ft CR
\fBlutx\fP [ \fB-l\fP \fIlut\fP ] [ \fB-i\fP \fIimage\fP ]
.ft R
.fi
.SH DESCRIPTION
.PP
\fBlutx\fP copies the input \fIimage\fP to the standard output, transforming
its pixel values according to the lookup table \fIlut\fP.
.PP
A lookup table, like a histogram, is a single-line IPW image.  To
transform a pixel from a given band through a lookup table, the
value of the pixel is interpreted as an image sample coordinate.
The appropriate band at that sample in the lookup table supplies
the replacement pixel value.
.SH OPTIONS
.TP
\fB-l\fP \fIlut\fP
Read lookup table from \fIlut\fP (default: standard input).
.sp
.TP
\fB-i\fP \fIimage\fP
Read image from \fIimage\fP (default: standard input).
.PP
At least one of \fB-l and/or \fB-i must be specified.
.SH OPERANDS
.SH EXAMPLES
.PP
To produce a histogram-equalized version of "image":
.sp
.nf
.ft CR
	hist image | histeq | lutx -i image
.ft R
.fi

.PP
To convert "image" with 12-bit pixels to 8-bit pixels, with
linear scaling:
.sp
.nf
.ft CR
	interp | mklut -i 12 | lutx -i image
	0 0
	4095 255
.ft R
.fi
.SH FILES
.sp
.nf
.ft CR
     None
.ft R
.fi
.SH DIAGNOSTICS
.sp
.TP
\fIn\fP-element LUT can't map \fInbits\fP-bit pixels
.br
	The number of elements (samples) in the lookup table
	must be at least as large as the number of possible
	pixel values in any band of the input image.
.sp
.TP
image and LUT have different # bands
.br
	\fIimage\fP and \fIlut\fP must have the same number of bands.
.sp
.TP
not a lookup table (# lines > 1)
.br
	\fIlut\fP must be a 1-line IPW image.
.SH RESTRICTIONS
.PP
All input image headers are copied to the output image, even those
(such as "lq" headers) whose contents may be invalidated by \fBlutx\fP's
arbitrary modifications to the input pixel values.  There seems to
be no simple solution to this problem.
.SH HISTORY
.TP
Jul 1990
	Written by James Frew, UCSB.
Base IPW routine (Frew, 1990)
.TP
Apr 1993
	Ran through Purify.  Dana Jacobsen, ERL-C.
.SH BUGS
.PP
None
.SH SEE ALSO
.TP
IPW
	\fBhist\fP,
\fBhisteq\fP,
\fBinterp\fP,
\fBlqhx\fP,
\fBmklut\fP,
\fBrequant\fP
.PP
Frew, J., 1990.  The Image Processing Workbench.  Ph.D. Thesis,
	Department of Geography, University of California, Santa
	Barbara, CA, 382pp.
