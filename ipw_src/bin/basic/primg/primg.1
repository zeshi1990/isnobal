.TH "primg" "1" "30 January 2017" "IPW v2" "IPW User Commands"
.SH NAME
.PP
\fBprimg\fP - print pixel specified by line,sample coordinates as text
.SH SYNOPSIS
.sp
.nf
.ft CR
\fBprimg\fP [ \fB-a\fP ] [ \fB-r\fP ] [ \fB-c\fP \fIcoords\fP ] [ \fB-i\fP \fIimage\fP ] [ \fB-g\fP \fIband\fP ]
.ft R
.fi
.SH DESCRIPTION
.PP
\fBprimg\fP prints input image pixels as text to the standard output,
one sample per line.  The pixel values for each band are printed
in band order from left to right, separated by white space.
If a pair of input coordinates do not lie on the input image,
\fBprimg\fP will return "na" instead of a pixel value.
.PP
With the \fB-g option, input coordinates should be listed
in the order (easting, northing), with northings sorted from
north to south.  In most cases this corresponds to _decreasing_
northings.
.PP
Without the \fB-g option, input coordinates should be listed in
the order (line, sample), sorted by _increasing_ line number.
Note that this is the opposite situation from the \fB-g case.
.SH OPTIONS
.TP
\fB-a\fP
Print all pixels in image (default: print only pixels
specified in \fIcoords\fP or on standard input).
.sp
.TP
\fB-c\fP \fIcoords\fP
Read pixel coordinates \fIcoords\fP (default: standard input).
With \fB-g, pixels should be (easting northing).
Without \fB-g, pixels should be (line sample).
.PP
At most one of \fB-a or \fB-c may be specified.
.TP
\fB-i\fP \fIimage\fP
Read image data from \fIimage\fP (default: standard input).
.PP
At least one of \fB-a, \fB-c, and/or \fB-i must be specified.
.TP
\fB-r\fP
Print raw pixel values, bypassing any conversion to
floating point (such as via input "lq" headers).
.sp
.TP
\fB-g\fP \fIband\fP
Pixel coordinates are specified in the
coordinates of band \fIband\fP's geodetic ("geo") header.
Without \fB-g, coords should be in units of image line,sample.
.SH OPERANDS
.PP
None.
.SH EXAMPLES
.PP
To interactively examine pixel values in "image", type:
.sp
.nf
.ft CR
	primg -i image
.ft R
.fi

.PP
then type the pixel coordinates (line sample) on the standard input.
(note that the coordinates must be typed in increasing line order).
.PP
Or, if image has a geo header in band 0, type:
.sp
.nf
.ft CR
	primg -g 0 -i image
.ft R
.fi

.PP
then type the pixel coordinates (easting northing).
(note that the northings must be sorted from north to south).
.PP
If "basin" contains the (line,sample) coordinates of the corners
of a drainage basin in the DEM "dem", and \fIline\fP,\fIsamp\fP are the
coordinates of an arbitrary point within the drainage basin, then:
.sp
.nf
.ft CR
	poly -s {line},{samp} basin | primg -i dem
.ft R
.fi

.PP
will print all of the pixel values in "dem" that lie within the
drainage basin.
.SH FILES
.sp
.nf
.ft CR
.ft R
.fi
.SH DIAGNOSTICS
.sp
.TP
bad coordinate file line: \fItext\fP
.br
	\fIcoords\fP contains a line \fItext\fP that cannot be parsed as
	two numbers.
.sp
.TP
bad coordinate pair: \fIline\fP,\fIsample\fP
.br
	\fIline\fP,\fIsample\fP are illegal coordinates for the input image.
.sp
.TP
unsorted coordinates: \fIline\fP,\fIsample\fP
.br
	The input coordinates must be sorted in ascending line
	order or north->south order if using \fB-g
	(sample (easting) order is unimportant).
.sp
.TP
requested geo band > nbands
requested band has bad or missing geo header
.br
	The requested band number for \fB-g does not exist
	or is invalid.
.SH RESTRICTIONS
.PP
The input coordinates must be sorted in ascending line
order or north->south order if using \fB-g
(sample (easting) order is unimportant).
.PP
\fB-a without \fB-r can be very slow.
.PP
\fB-g requires a geo header.
.SH HISTORY
.TP
Jul 1990
	Written by James Frew, UCSB.
.TP
Nov 1995
 Added \fB-g option.  Rusty Dodson, MERSC, NHEERL-WED.
(This option obsoletes the 'cell2point' program.)
.SH BUGS
.PP
If a requested coordinate pair lies exactly on the upper or left
image edge, \fBprimg\fP assumes the point lies on the image (and
returns a pixel value).
If the coordinate pair lies exactly on the lower or right
image edge, \fBprimg\fP will return "na".
.SH SEE ALSO
.TP
IPW
	\fBpoly\fP
.TP
UNIX
	sort
