.TH "viewf" "1" "30 January 2017" "IPW v2" "IPW User Commands"
.SH NAME
.PP
\fBviewf\fP - sky view and terrain configuration factors
.SH SYNOPSIS
.sp
.nf
.ft CR
\fBviewf\fP [ \fB-x\fP ] \fIimage\fP
.ft R
.fi
.SH DESCRIPTION
.PP
\fBviewf\fP reads elevation data from \fIimage\fP and writes the corresponding
sky view and terrain configuration factors to the standard output.
\fBviewf\fP does not allow reading from the standard input.
.PP
\fBviewf\fP first calculates the gradient using the IPW command gradient,
then a 16-angle (32-angle with the \fB-x option) horizon image using
hor1d.  It then passes these to viewcalc.
.SH OPTIONS
.TP
\fB-x\fP
calculate 32-angle horizon image (16-angle default)
.SH OPERANDS
.TP
\fIimage\fP
	image	input elevation image
.sp
.SH EXAMPLES
.PP
The command:
.sp
.nf
.ft CR
	viewf image
.ft R
.fi

.PP
is equivalent to:
.sp
.nf
.ft CR
	gradient image  >{grad}
	horizon -a {azm01} image  >{horz01}
	...
	horizon -a {azm16} image  >{horz16}
	mux {horz??} | viewcalc -s {grad}
.ft R
.fi
.SH FILES
.sp
.nf
.ft CR
     $TMPDIR/viewf.\fINNNNN\fP/*
     	Temporary directory containing intermediate gradient
     	and horizon files.
     $TMPDIR/mux\fINNNNN\fP
     $TMPDIR/skew\fINNNNN\fP
     	Temporary files used by mux and skew
.ft R
.fi
.SH DIAGNOSTICS
.sp
.TP
See gradient, hor1d, mux, skew, transpose, viewcalc.
.SH RESTRICTIONS
.PP
\fBviewf\fP cannot read the elevation image from standard input.
.PP
The use of 16 horizon images was hard-coded in \fBviewf\fP.  In practice
this has proven to yield sufficient resolution even in very
rugged terrain.  However, as the scale goes down (below 50 meters?),
more angles are needed.  The \fB-x option allows 32 angles.
.SH HISTORY
.TP
Jul 1990
	Written by James Frew, UCSB.
Base IPW routine (Frew, 1990)
.TP
Aug 1995
	Added \fB-x option to select 32 angles.
Dana Jacobsen, ERLC.
.TP
Sep 1995
	Changed getopt to getopts.  Dana Jacobsen, ERLC.
.SH BUGS
.PP
None that we know of
.SH SEE ALSO
.TP
IPW
	\fBggradient\fP,
\fBghorizon\fP,
\fBgradient\fP,
\fBgshade\fP,
\fBgviewf\fP,
\fBgviewf-mp\fP,
	\fBhor1d\fP,
\fBhorizon\fP,
\fBmux\fP,
\fBshade\fP,
\fBskew\fP,
\fBtranspose\fP,
\fBviewcalc\fP
.PP
Dozier, J., 1980.  A clear-sky spectral solar radiation model for
	snow-covered mountainous terrain.  Water Resources Research,
	vol. 16, pp 709-718.
.PP
Dozier, J., J. Bruno, and P. Downey, 1981.  A faster solution to
	the horizon problem.  Computers and Geosciences, vol. 7,
	no. 2, pp 145-151.
.PP
Dozier, J., and J. Frew, 1990.  Rapid calculation of terrain
	parameters for radiation modeling from digital elevation
	data.  IEEE Transactions on Geoscience and Remote Sensing,
	vol. 28, no. 5, pp 963-969.
.PP
Frew, J., 1990.  The Image Processing Workbench.  Ph.D. Thesis,
	Department of Geography, University of California, Santa
	Barbara, CA, 382pp.
.PP
Marks, D., R. Dubayah, and K. Longley, 1991.  Modeling the
	topographic and spectral variability of clear-sky solar
	radiation at regional to continental scales.  Proceedings
	1991 IGARSS Symposium, Remote Sensing: Global Monitoringr
	for Earth Management, Espoo, Finland, vol. 3, pp 1711.
